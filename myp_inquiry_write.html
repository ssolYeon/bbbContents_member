<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1대1 문의 쓰기 - 마이페이지</title>

    <link rel="stylesheet" href="/src/css/mypage_renewal/myp_inquiry.css" />
  </head>
  <body>
    <header>
      <h1 class="sr-only">1:1 문의</h1>
      <div class="container">
        <a href="javascript:;" id="backLink"
          ><img src="/src/assets/images/icons/icon_back_black@x3.png" alt=""
        /></a>
        <h1>1:1 문의</h1>
      </div>
    </header>

    <div id="app_wrapper">
      <!-- 1:1 문의 목록 작업 -->
      <main>
        <div class="myp_sqeure_tab">
          <a href="javascript:;" class="active">문의하기</a>
          <a href="javascript:;">문의내역</a>
        </div>
        <div class="myp_inqWrite_container">
          <div class="myp_form_wrap">
            <form action="#" method="post">
              <fieldset>
                <legend class="sr-only">1대1 문의하기</legend>
              </fieldset>

              <div class="myp_input_group">
                <label for="userEmail" class="title"
                  >연락 받을 이메일 주소
                  <span aria-hidden="true" class="required">*</span></label
                >
                <div class="myp_input_box">
                  <input
                    type="email"
                    id="userEmail"
                    name="userEmail"
                    required
                    placeholder="jihyeon@b-lot.co.kr"
                    disabled
                  />
                </div>
              </div>

              <div class="myp_input_group">
                <p class="title">
                  문의 유형<span aria-hidden="true" class="required">*</span>
                </p>
                <button type="button" class="myp_inquiry_btn">
                  문의 종류를 선택해주세요
                </button>
              </div>

              <div class="myp_input_group">
                <label for="inquiryTitle" class="title"
                  >제목
                  <span aria-hidden="true" class="required">*</span></label
                >
                <div class="myp_input_box">
                  <input
                    type="text"
                    id="inquiryTitle"
                    name="inquiryTitle"
                    required
                    placeholder="제목을 입력해 주세요."
                  />
                </div>
              </div>

              <div class="myp_input_group">
                <label for="userMessage" class="title"
                  >내용
                  <span aria-hidden="true" class="required">*</span></label
                >
                <div class="myp_input_box">
                  <textarea
                    id="userMessage"
                    name="userMessage"
                    placeholder="문의 내용을 남겨주세요."
                    rows="5"
                    required
                  ></textarea>
                </div>
                <p class="bytes">0 / 2000 bytes</p>
              </div>

              <div class="myp_input_group">
                <p class="title">첨부파일</p>
                <div class="myp_input_attachment">
                  <div class="myp_attachment_inner">
                    <input
                      class="myp_attachment"
                      type="file"
                      id="userFile"
                      accept="image/*"
                    />
                    <label for="userFile">
                      <img
                        src="/src/assets/images/myp_renewl_images/myp_attachment.png"
                      />
                    </label>

                    <div class="myp_attachment_preview">
                      <!-- 이미지 첨부 시 image_box 생성 -->
                    </div>
                  </div>
                </div>

                <p class="info_text">
                  문제가 발생한 화면의 스크린샷을 첨부할 수 있습니다.<br />
                  이미지는 최대 5장, 각 파일 당 5MB 이하까지 첨부할 수 있습니다.
                </p>
              </div>

              <div class="myp_chackbox">
                <input type="checkbox" name="checkAgree" id="checkAgree" />
                <label for="checkAgree">답변 완료 알림 문자로 받기</label>
                <p class="info_text">
                  회원 정보에 등록된 번호로 알림이 발송 됩니다.
                </p>
              </div>

              <div class="myp_button_wrap">
                <button type="submit" class="myp_button bg_grey">
                  등록하기
                </button>
              </div>
            </form>
          </div>
        </div>
      </main>
      <!-- // 1:1 문의 목록 작업 -->

      <footer>
        <div class="footer_top_container">
          <a href="javascript:void(0)" class="logo">
            <img
              src="/src/assets/images/common/footer_logo_white@x3.png"
              alt="봄봄봄"
            />
          </a>
          <button type="button" class="btn_business_toggle">
            사업자 정보
            <img
              src="/src/assets/images/icons/icon_btn_footer_down@x3.png"
              alt=""
            />
          </button>
        </div>
        <div class="footer_business_information_container">
          <div class="company_information">
            <p><strong>상호명</strong> : 주식회사 비롯시앤엠</p>
            <p><strong>대표자명</strong> : 홍길동</p>
            <p><strong>사업자등록번호</strong> : 717-86-02532</p>
            <p>
              <strong>통신판매업 신고번호</strong> : 제2025-서울강남-00001호
            </p>
            <p>
              <strong>주소</strong> : 서울특별시 강서구 양천로 357 려산빌딩 8층
            </p>
          </div>
          <div class="contact_information">
            <p>
              <strong>고객센터</strong> :
              <a href="mailto:help@bombombom.com">help@bombombom.com</a> /
              <a href="tel:15880000">1588-0000</a>
            </p>
            <p>
              <strong>개인정보보호 책임자</strong> : 김봄봄 (<a
                href="mailto:privacy@bombombom.com"
                >privacy@bombombom.com</a
              >)
            </p>
          </div>
        </div>
        <div class="footer_service_container">
          <a href="javascript:void(0)">개인정보처리방침</a>
          <a href="javascript:void(0)">서비스 이용약관</a>
          <a href="javascript:void(0)">제휴문의 바로가기</a>
        </div>
        <p class="footer_notice">
          비롯시앤엠은 통신판매 중개자로서 통신판매의 당사자가 아니며 상품의
          예약, 이용 및 환불 등과 관련한 의무와 책임은 각 판매자에게 있습니다.
        </p>
        <copy>Copyright (c) 2021 B.lot. All Rights Reserved.</copy>
      </footer>

      <nav class="gnb_container gnb">
        <div class="container">
          <a href="/">
            <img src="/src/assets/images/icons/icon_gnb_home@x3.png" alt="" />
            <span>홈</span>
          </a>
          <a href="/pages/bombom/bombom.html">
            <img src="/src/assets/images/icons/icon_gnb_bombom@x3.png" alt="" />
            <span>봄,봄</span>
          </a>
          <a href="/pages/haebom/haebom.html" class="active">
            <img
              src="/src/assets/images/icons/icon_gnb_haebom_on@x3.png"
              alt=""
            />
            <span>해봄</span>
          </a>
          <a href="/pages/gabom/gabom.html">
            <img src="/src/assets/images/icons/icon_gnb_gabom@x3.png" alt="" />
            <span>가봄</span>
          </a>
          <a href="/pages/sabom/sabom.html">
            <img src="/src/assets/images/icons/icon_gnb_sabom@x3.png" alt="" />
            <span>사봄</span>
          </a>
        </div>
      </nav>
    </div>

    <!-- 문의 유형 팝업 -->
    <div class="myp_inqType_pop">
      <div class="myp_inqType_pop_dimm"></div>
      <div class="myp_inqType_wrap">
        <p class="title">문의 유형</p>
        <ul class="myp_inqType_list">
          <li class="myp_inqType_item">
            <a href="javascript:;" class="myp_inqType_link">
              <img
                src="/src/assets/images/icons/myp_icon_inqtype_01.png"
                alt=""
              />
              회원/계정 문의
            </a>
          </li>
          <li class="myp_inqType_item">
            <a href="javascript:;" class="myp_inqType_link">
              <img
                src="/src/assets/images/icons/myp_icon_inqtype_02.png"
                alt=""
              />
              콘텐츠 문의
            </a>
          </li>
          <li class="myp_inqType_item">
            <a href="javascript:;" class="myp_inqType_link">
              <img
                src="/src/assets/images/icons/myp_icon_inqtype_03.png"
                alt=""
              />
              상품/배송 문의
            </a>
          </li>
          <li class="myp_inqType_item">
            <a href="javascript:;" class="myp_inqType_link">
              <img
                src="/src/assets/images/icons/myp_icon_inqtype_04.png"
                alt=""
              />
              취소/교환/반품 문의
            </a>
          </li>
          <li class="myp_inqType_item">
            <a href="javascript:;" class="myp_inqType_link">
              <img
                src="/src/assets/images/icons/myp_icon_inqtype_05.png"
                alt=""
              />
              기타 문의
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- 문의 등록 완료 팝업 -->
    <div class="myp_complete_pop">
      <div class="myp_complete_pop_dimm"></div>
      <div class="myp_complete_wrap">
        <p class="desc">
          문의가 등록 되었습니다.<br />
          빠르게 확인 후 답변드리겠습니다.<br />
          감사합니다.
        </p>
        <div class="myp_button_wrap">
          <a href="javascript:;" class="myp_button bg_black">확인</a>
        </div>
      </div>
    </div>

    <script>
      /* 첨부 파일 업로드 */
      const fileInput = document.querySelector(".myp_attachment");
      const preview = document.querySelector(".myp_attachment_preview");

      fileInput.addEventListener("change", (e) => {
        const files = e.target.files;

        Array.from(files).forEach((file) => {
          if (!file.type.startsWith("image/")) return;

          const reader = new FileReader();
          reader.onload = (event) => {
            // wrapper div 생성
            const wrapper = document.createElement("div");
            wrapper.classList.add("image_box");

            // 이미지 생성
            const img = document.createElement("img");
            img.src = event.target.result;

            // 삭제 버튼 생성
            const btnDelete = document.createElement("button");
            btnDelete.type = "button";
            btnDelete.classList.add("btn_delete");

            // wrapper에 이미지 + 버튼 추가
            wrapper.appendChild(img);
            wrapper.appendChild(btnDelete);

            // preview에 추가
            preview.appendChild(wrapper);
          };
          reader.readAsDataURL(file);
        });
      });

      // 삭제 버튼 클릭 이벤트
      preview.addEventListener("click", (e) => {
        if (e.target.classList.contains("btn_delete")) {
          e.target.parentElement.remove();
        }
      });

      /* 문의 유형 팝업 */
      const inquiryBtn = document.querySelector(".myp_inquiry_btn");
      const inquiryPop = document.querySelector(".myp_inqType_pop");
      const inquiryPopDimm = document.querySelector(".myp_inqType_pop_dimm");

      inquiryBtn.addEventListener("click", () => {
        inquiryPop.classList.add("active");
      });

      inquiryPopDimm.addEventListener("click", () => {
        inquiryPop.classList.remove("active");
      });

      /* 문의 등록 완료 팝업 */
      const completeBtn = document.querySelector(
        ".myp_inqWrite_container .myp_button"
      );
      const mypCompleteBtn = document.querySelector(
        ".myp_complete_pop .myp_button"
      );
      const mypCompletePop = document.querySelector(".myp_complete_pop");
      const mypCompletePopDimm = document.querySelector(
        ".myp_complete_pop_dimm"
      );

      completeBtn.addEventListener("click", () => {
        mypCompletePop.classList.add("active");
      });

      mypCompleteBtn.addEventListener("click", () => {
        mypCompletePop.classList.remove("active");
      });
    </script>
  </body>
</html>
